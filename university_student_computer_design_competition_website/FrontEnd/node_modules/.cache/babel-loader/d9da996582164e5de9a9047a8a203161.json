{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Publish/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Publish/index.vue","mtime":1643007640000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/babel.config.js","mtime":1642426402000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFJlcXVlc3QsIHBvc3RSZXF1ZXN0IH0gZnJvbSAiQC91dGlscy9hcGkiOwoKdmFyIG1kRWRpdG9yID0gcmVxdWlyZSgnbWF2b24tZWRpdG9yJyk7CgppbXBvcnQgJ21hdm9uLWVkaXRvci9kaXN0L2Nzcy9pbmRleC5jc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICAnbWRFZGl0b3InOiBtZEVkaXRvci5tYXZvbkVkaXRvcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGVuZFRpbWVDaGVja291dCA9IGZ1bmN0aW9uIGVuZFRpbWVDaGVja291dChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5oql5ZCN57uT5p2f5pe26Ze05LiN6IO95Li656m6JykpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlIDwgX3RoaXMuY29udGVzdEZvcm0uc3RhcnRUaW1lKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfnu5PmnZ/ml7bpl7TkuI3og73lsI/kuo7lvIDlp4vml7bpl7QnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjb250ZXN0Rm9ybTogewogICAgICAgIGNvbnRlc3RUaXRsZTogJycsCiAgICAgICAgY29udGVzdFRleHQ6ICcnLAogICAgICAgIHRleHQ6ICcjIyDor7fovpPlhaXmr5TotZvlhoXlrrlcbicsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcHJvbXVsZ2F0b3I6ICcnLAogICAgICAgIGdyb3VwSWQ6ICcnLAogICAgICAgIGdyb3VwTmFtZTogJycsCiAgICAgICAgUmVnU3RhcnRUaW1lOiAnJywKICAgICAgICBSZWdFbmRUaW1lOiAnJywKICAgICAgICBTdGFydFRpbWU6ICcnLAogICAgICAgIEVuZFRpbWU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY29udGVzdFRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q+U6LWb5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHN0YXJ0VGltZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaKpeWQjeW8gOWni+aXtumXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBlbmRUaW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB2YWxpZGF0b3I6IGVuZFRpbWVDaGVja291dCwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgLy8g6aG16Z2i5ZCv5Yqo57uZZGF0ZXRpbWXotYvlgLzml7bpl7TmiLMKICAgIHZhciBnaWQgPSBzZXNzaW9uU3RvcmFnZS5naWQ7CgogICAgaWYgKGdpZCA9PT0gIiIpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W55So5oi357uE5aSx6LSl77yBIik7CiAgICB9IGVsc2UgewogICAgICBnZXRSZXF1ZXN0KCIvZ3JvdXAvIiArIGdpZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzMi5jb250ZXN0Rm9ybS5wcm9tdWxnYXRvciA9IHNlc3Npb25TdG9yYWdlLnVpZDsKICAgICAgICBfdGhpczIuY29udGVzdEZvcm0ubmFtZSA9IHNlc3Npb25TdG9yYWdlLm5hbWU7CiAgICAgICAgX3RoaXMyLmNvbnRlc3RGb3JtLmdyb3VwSWQgPSBnaWQ7CiAgICAgICAgX3RoaXMyLmNvbnRlc3RGb3JtLmdyb3VwTmFtZSA9IHJlc3AuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaPkOS6pAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmNvbnRlc3RGb3JtLmNvbnRlc3RUZXh0ID0gdGhpcy5jb250ZXN0Rm9ybS50ZXh0LnJlcGxhY2UoL1xuL2lnLCAiPGJyPiIpOwogICAgICB0aGlzLiRyZWZzLmNvbnRlc3RGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcG9zdFJlcXVlc3QoIi9hZGRDb250ZXN0cyIsIF90aGlzMy5jb250ZXN0Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBfdGhpczMuJGNvbmZpcm0ocmVzcC5kYXRhLm1zZywgJ+S/oeaBrycsIHsKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLor7fkv67mlLnplJnor6/pobnvvIEiKTsKCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43nva4KICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmNvbnRlc3RGb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAA,UAAA,EAAA,WAAA,QAAA,aAAA;;AAEA,IAAA,QAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AACA,OAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,gBAAA,QAAA,CAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AAAA;;AACA,QAAA,eAAA,GAAA,SAAA,eAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,GAAA,KAAA,CAAA,WAAA,CAAA,SAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,cAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KARA;;AASA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,cAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA,QAAA,WAAA,EAAA,EALA;AAMA,QAAA,OAAA,EAAA,EANA;AAOA,QAAA,SAAA,EAAA,EAPA;AAQA,QAAA,YAAA,EAAA,EARA;AASA,QAAA,UAAA,EAAA,EATA;AAUA,QAAA,SAAA,EAAA,EAVA;AAWA,QAAA,OAAA,EAAA;AAXA,OADA;AAcA,MAAA,KAAA,EAAA;AACA,QAAA,YAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,SAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,WAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAFA;AAGA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,SAAA,EAAA,eAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAHA;AAdA,KAAA;AAoBA,GAnCA;AAoCA,EAAA,OApCA,qBAoCA;AAAA;;AACA;AACA,QAAA,GAAA,GAAA,cAAA,CAAA,GAAA;;AACA,QAAA,GAAA,KAAA,EAAA,EAAA;AACA,WAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,KAFA,MAEA;AACA,MAAA,UAAA,CAAA,YAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,WAAA,GAAA,cAAA,CAAA,GAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,IAAA,GAAA,cAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,OAAA,GAAA,GAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,OALA;AAOA;AAGA,GApDA;AAqDA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AAAA;;AACA,WAAA,WAAA,CAAA,WAAA,GAAA,KAAA,WAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,EAAA,MAAA,CAAA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,WAAA,CAAA,cAAA,EAAA,MAAA,CAAA,WAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,cAAA,iBAAA,EAAA,IADA;AAEA,cAAA,IAAA,EAAA,SAFA;AAGA,cAAA,MAAA,EAAA;AAHA,aAAA;;AAKA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,WAPA;AAQA,SATA,MASA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,SAAA;;AACA,iBAAA,KAAA;AACA;AACA,OAdA;AAeA,KAnBA;AAoBA;AACA,IAAA,SArBA,uBAqBA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,WAAA;AACA;AAvBA;AArDA,CAAA","sourcesContent":["<template>\n  <div>\n    <!--表单-->\n    <el-form ref=\"contestForm\" :model=\"contestForm\" label-width=\"80px\" label-position=\"top\" :rules=\"rules\">\n      <!--输入比赛名称-->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"16\" :offset=\"4\">\n          <el-card>\n            <el-form-item label=\"比赛名称\" prop=\"contestTitle\">\n              <el-input v-model=\"contestForm.contestTitle\"></el-input>\n            </el-form-item>\n          </el-card>\n        </el-col>\n      </el-row>\n\n      <el-row :gutter=\"20\">\n        <!--左侧编辑内容-->\n        <el-col :span=\"12\" :offset=\"4\">\n          <el-card :body-style=\"{ padding: '0'}\">\n            <mdEditor v-model=\"contestForm.text\" :ishljs=\"true\" style=\"min-height: 600px\"/>\n          </el-card>\n        </el-col>\n        <!--右侧输入其他信息-->\n        <el-col :span=\"4\">\n          <el-card style=\"min-height: 600px\">\n            <el-form-item label=\"报名开始时间\" prop=\"startTime\">\n              <el-date-picker v-model=\"contestForm.startTime\" type=\"datetime\" placeholder=\"选择日期时间\"\n                              default-time=\"08:00:00\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"报名结束时间\" prop=\"endTime\">\n              <el-date-picker v-model=\"contestForm.endTime\" type=\"datetime\" placeholder=\"选择日期时间\"\n                              default-time=\"23:59:59\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"比赛开始时间\" prop=\"startTime\">\n              <el-date-picker v-model=\"contestForm.startTime\" type=\"datetime\" placeholder=\"选择日期时间\"\n                              default-time=\"08:00:00\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"比赛结束时间\" prop=\"endTime\">\n              <el-date-picker v-model=\"contestForm.endTime\" type=\"datetime\" placeholder=\"选择日期时间\"\n                              default-time=\"23:59:59\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n            </el-form-item>\n            <el-form-item style=\"float: right;padding-top: 60px\">\n              <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n              <el-button type=\"primary\" @click=\"submitForm\">立即创建</el-button>\n            </el-form-item>\n          </el-card>\n        </el-col>\n      </el-row>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {getRequest, postRequest} from \"@/utils/api\";\n\nconst mdEditor = require('mavon-editor')\nimport 'mavon-editor/dist/css/index.css'\n\nexport default {\n  name: \"index\",\n  components: {\n    'mdEditor': mdEditor.mavonEditor\n  },\n  data() {\n    const endTimeCheckout = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('报名结束时间不能为空'));\n      } else if (value < this.contestForm.startTime) {\n        callback(new Error('结束时间不能小于开始时间'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      contestForm: {\n        contestTitle: '',\n        contestText: '',\n        text: '## 请输入比赛内容\\n',\n        name: '',\n        promulgator: '',\n        groupId: '',\n        groupName: '',\n        RegStartTime: '',\n        RegEndTime: '',\n        StartTime: '',\n        EndTime: '',\n      },\n      rules: {\n        contestTitle: [{required: true, message: '请输入比赛名称', trigger: 'blur'}],\n        startTime: [{required: true, message: '请输入报名开始时间', trigger: 'blur'}],\n        endTime: [{required: true, validator: endTimeCheckout, trigger: 'blur'}]\n      }\n    };\n  },\n  mounted() {\n    // 页面启动给datetime赋值时间戳\n    const gid = sessionStorage.gid;\n    if (gid === \"\") {\n      this.$message.error(\"获取用户组失败！\");\n    } else {\n      getRequest(\"/group/\" + gid).then((resp) => {\n        this.contestForm.promulgator = sessionStorage.uid;\n        this.contestForm.name = sessionStorage.name;\n        this.contestForm.groupId = gid;\n        this.contestForm.groupName = resp.data.data;\n      })\n\n    }\n\n\n  },\n  methods: {\n    // 提交\n    submitForm() {\n      this.contestForm.contestText = this.contestForm.text.replace(/\\n/ig, \"<br>\");\n      this.$refs.contestForm.validate((valid) => {\n        if (valid) {\n          postRequest(\"/addContests\", this.contestForm).then((resp) => {\n            this.$confirm(resp.data.msg, '信息', {\n              confirmButtonText: '确定',\n              type: 'success',\n              center: true\n            })\n            this.$router.push(\"/home\");\n          })\n        } else {\n          this.$message.error(\"请修改错误项！\")\n          return false;\n        }\n      });\n    },\n    // 重置\n    resetForm() {\n      this.$refs.contestForm.resetFields();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-row {\n  margin-bottom: 20px;\n}\n\n.el-date-editor.el-input {\n  width: 100%;\n}\n</style>"],"sourceRoot":"src/views/Publish"}]}