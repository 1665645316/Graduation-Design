{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/layout/Main/Publish/MessageOrScore/Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/layout/Main/Publish/MessageOrScore/Message.vue","mtime":1644858497920},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/babel.config.js","mtime":1642426402000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRSZXF1ZXN0IH0gZnJvbSAiQC91dGlscy9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lc3NhZ2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbXSwKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICB0aXRsZTogJycsCiAgICAgIHRleHQ6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZ2V0UmVxdWVzdCgiL3Njb3Jlcy91c2VycyIsIHsKICAgICAgY2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY29udGVzdElkCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMuZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gW107CiAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBfdGhpczIubXVsdGlwbGVTZWxlY3Rpb24ucHVzaCh7CiAgICAgICAgICB1c2VySWQ6IHZhbC51c2VySWQKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZDogZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoOwoKICAgICAgaWYgKGxlbmd0aCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLCAndGl0bGUnLCB0aGlzLnRpdGxlKTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLCAndGV4dCcsIHRoaXMudGV4dCk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm11bHRpcGxlU2VsZWN0aW9uKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+WcqOW3puS+p+mAieS4remcgOimgeWPkemAgeeahOWtpueUn++8gSIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,UAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,iBAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,IAAA,UAAA,CAAA,eAAA,EAAA;AAAA,MAAA,GAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,qBADA,iCACA,GADA,EACA;AAAA;;AACA,WAAA,iBAAA,GAAA,EAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,iBAAA,CAAA,IAAA,CAAA;AAAA,UAAA,MAAA,EAAA,GAAA,CAAA;AAAA,SAAA;AACA,OAFA;AAGA,KANA;AAOA,IAAA,IAPA,kBAOA;AACA,UAAA,MAAA,GAAA,KAAA,iBAAA,CAAA,MAAA;;AACA,UAAA,MAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,KAAA,iBAAA,CAAA,CAAA,CAAA,EAAA,OAAA,EAAA,KAAA,KAAA;AACA,eAAA,IAAA,CAAA,KAAA,iBAAA,CAAA,CAAA,CAAA,EAAA,MAAA,EAAA,KAAA,IAAA;AACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,iBAAA;AACA,OANA,MAMA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,gBAAA;AACA;AACA;AAlBA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"12\" :offset=\"4\">\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\">\n            <span style=\"line-height: 28px;font-size: 20px\">若要发送消息请先选中</span>\n            <el-button style=\"float: right\" size=\"mini\" type=\"primary\" round @click=\"$router.go(-1);\">返回</el-button>\n          </div>\n          <el-table :data=\"data\" @selection-change=\"handleSelectionChange\" fit>\n            <el-table-column type=\"selection\"></el-table-column>\n            <el-table-column prop=\"name\" label=\"姓名\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"school\" label=\"学校\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"phone\" label=\"手机号\" align=\"center\"></el-table-column>\n            <el-table-column prop=\"state\" label=\"评审状态\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-tag :type=\"scope.row.state ? 'danger' : 'success'\" disable-transitions>\n                  {{ scope.row.state ? '已评审' : '未评审' }}\n                </el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"100%\" align=\"center\">\n              <template v-slot=\"scope\">\n                <el-button type=\"text\" size=\"small\"\n                           @click=\"$router.push({name: 'publish-score', params: {scoresId: scope.row.scoresId}})\">\n                  {{ scope.row.state ? '查看' : '评审' }}\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-card>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\">\n            <span style=\"line-height: 28px;font-size: 20px\">发送消息</span>\n          </div>\n          <el-form label-position=\"top\">\n            <el-form-item label=\"标题\">\n              <el-input placeholder=\"请输入标题\" v-model=\"title\" maxlength=\"20\" show-word-limit\n                        :rules=\"[{ required: true, message: '标题不能为空'}]\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"内容\">\n              <el-input type=\"textarea\" :rows=\"5\" placeholder=\"请输入内容\" v-model=\"text\"\n                        :rules=\"[{ required: true, message: '内容不能为空'}]\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"float: right\">\n              <el-button type=\"primary\" round @click=\"send\">发送</el-button>\n            </el-form-item>\n          </el-form>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {getRequest} from \"@/utils/api\";\n\nexport default {\n  name: \"Message\",\n  data() {\n    return {\n      data: [],\n      multipleSelection: [],\n      title: '',\n      text: ''\n    }\n  },\n  mounted() {\n    getRequest(\"/scores/users\", {cid: this.$route.params.contestId}).then((res) => {\n      this.data = res.data.data;\n      console.log(res.data.data)\n    })\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = [];\n      val.forEach((val) => {\n        this.multipleSelection.push({userId: val.userId});\n      });\n    },\n    send() {\n      let length = this.multipleSelection.length\n      if (length) {\n        for (let i = 0; i < length; i++) {\n          this.$set(this.multipleSelection[i], 'title', this.title);\n          this.$set(this.multipleSelection[i], 'text', this.text);\n        }\n        console.log(this.multipleSelection);\n      } else {\n        this.$message.warning(\"请在左侧选中需要发送的学生！\")\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\ninput.el-input__inner {\n  padding-right: 48px !important;\n}\n</style>"],"sourceRoot":"src/views/layout/Main/Publish/MessageOrScore"}]}