{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js","mtime":1646060888610},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/babel.config.js","mtime":1642426402000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCB7IHBvc3RSZXF1ZXN0IH0gZnJvbSAiQC91dGlscy9hcGkiOyAvLyDliKTmlq3mmK/lkKbkv53lrZjkuobotKblj7fkv6Hmga/vvIznlKjkuo7oh6rliqjnmbvlvZUKCmV4cG9ydCBmdW5jdGlvbiBsb2dpbigpIHsKICBjb25zb2xlLmxvZygi6Ieq5Yqo55m75b2VIik7CiAgY29uc29sZS5sb2coc3RvcmUuc3RhdGUpOyAvLyBsb2NhbFN0b3JhZ2XlrZjlhaXotKblj7flr4bnoIEKCiAgaWYgKGxvY2FsU3RvcmFnZS5waG9uZSAmJiBsb2NhbFN0b3JhZ2UucGFzc3dvcmQgfHwgbG9jYWxTdG9yYWdlLmVtYWlsKSB7CiAgICB2YXIgbG9naW5Gb3JtID0gewogICAgICBwaG9uZTogbG9jYWxTdG9yYWdlLnBob25lLAogICAgICBlbWFpbDogbG9jYWxTdG9yYWdlLmVtYWlsLAogICAgICBwYXNzd29yZDogbG9jYWxTdG9yYWdlLnBhc3N3b3JkCiAgICB9OwogICAgcG9zdFJlcXVlc3QoIi9hdXRvbWF0aWNMb2dpbiIsIGxvZ2luRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF9NZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKCiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKCiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgc3RvcmUuc3RhdGUudWlkID0gZGF0YS51c2VySWQ7CiAgICAgICAgc3RvcmUuc3RhdGUubmFtZSA9IGRhdGEubmFtZTsKICAgICAgICBzdG9yZS5zdGF0ZS5naWQgPSBkYXRhLmdyb3VwSWQ7CiAgICAgICAgc3RvcmUuc3RhdGUuaXNMb2dpbiA9IHRydWU7CiAgICAgIH0KICAgIH0pOwogIH0gZWxzZSB7CiAgICBfTWVzc2FnZS53YXJuaW5nKCLor7fnmbvlvZXvvIHvvIHvvIEiKTsKCiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBjb25zb2xlLmxvZygi6Ieq5Yqo55m75b2V5a6M5oiQIik7IC8vIGlmIChsb2NhbFN0b3JhZ2UudWlkICYmIGxvY2FsU3RvcmFnZS5uYW1lICYmIGxvY2FsU3RvcmFnZS5naWQpIHsKICAvLyAgICAgc3RvcmUuc3RhdGUudWlkID0gbG9jYWxTdG9yYWdlLnVpZDsKICAvLyAgICAgc3RvcmUuc3RhdGUubmFtZSA9IGxvY2FsU3RvcmFnZS5uYW1lOwogIC8vICAgICBzdG9yZS5zdGF0ZS5naWQgPSBsb2NhbFN0b3JhZ2UuZ2lkOwogIC8vICAgICBzdG9yZS5zdGF0ZS5pc0xvZ2luID0gdHJ1ZTsKICAvLyAgICAgTWVzc2FnZS5zdWNjZXNzKCLoh6rliqjnmbvlvZXmiJDlip/jgIIiKTsKICAvLyAgICAgcmV0dXJuIHRydWU7CiAgLy8gfQp9"},{"version":3,"sources":["/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js"],"names":["store","postRequest","login","console","log","state","localStorage","phone","password","email","loginForm","then","res","success","data","msg","uid","userId","name","gid","groupId","isLogin","warning"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,SAAQC,WAAR,QAA0B,aAA1B,C,CAEA;;AACA,OAAO,SAASC,KAAT,GAAiB;AACpBC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,KAAlB,EAFoB,CAGpB;;AACA,MAAIC,YAAY,CAACC,KAAb,IAAsBD,YAAY,CAACE,QAAnC,IAA+CF,YAAY,CAACG,KAAhE,EAAuE;AACnE,QAAIC,SAAS,GAAG;AACZH,MAAAA,KAAK,EAAED,YAAY,CAACC,KADR;AAEZE,MAAAA,KAAK,EAAEH,YAAY,CAACG,KAFR;AAGZD,MAAAA,QAAQ,EAAEF,YAAY,CAACE;AAHX,KAAhB;AAKAP,IAAAA,WAAW,CAAC,iBAAD,EAAoBS,SAApB,CAAX,CAA0CC,IAA1C,CAA+C,UAACC,GAAD,EAAS;AACpD,eAAQC,OAAR,CAAgBD,GAAG,CAACE,IAAJ,CAASC,GAAzB;;AACA,UAAID,IAAI,GAAGF,GAAG,CAACE,IAAJ,CAASA,IAApB;;AACA,UAAIA,IAAJ,EAAS;AACLd,QAAAA,KAAK,CAACK,KAAN,CAAYW,GAAZ,GAAkBF,IAAI,CAACG,MAAvB;AACAjB,QAAAA,KAAK,CAACK,KAAN,CAAYa,IAAZ,GAAmBJ,IAAI,CAACI,IAAxB;AACAlB,QAAAA,KAAK,CAACK,KAAN,CAAYc,GAAZ,GAAkBL,IAAI,CAACM,OAAvB;AACApB,QAAAA,KAAK,CAACK,KAAN,CAAYgB,OAAZ,GAAsB,IAAtB;AACH;AACJ,KATD;AAUH,GAhBD,MAgBO;AACH,aAAQC,OAAR,CAAgB,QAAhB;;AACA,WAAO,KAAP;AACH;;AACDnB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAxBoB,CA0BpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH","sourcesContent":["import store from \"@/store\";\nimport {Message} from \"element-ui\";\nimport {postRequest} from \"@/utils/api\";\n\n// 判断是否保存了账号信息，用于自动登录\nexport function login() {\n    console.log(\"自动登录\");\n    console.log(store.state);\n    // localStorage存入账号密码\n    if (localStorage.phone && localStorage.password || localStorage.email) {\n        let loginForm = {\n            phone: localStorage.phone,\n            email: localStorage.email,\n            password: localStorage.password\n        }\n        postRequest(\"/automaticLogin\", loginForm).then((res) => {\n            Message.success(res.data.msg);\n            let data = res.data.data;\n            if (data){\n                store.state.uid = data.userId;\n                store.state.name = data.name;\n                store.state.gid = data.groupId;\n                store.state.isLogin = true;\n            }\n        })\n    } else {\n        Message.warning(\"请登录！！！\");\n        return false;\n    }\n    console.log(\"自动登录完成\");\n\n    // if (localStorage.uid && localStorage.name && localStorage.gid) {\n    //     store.state.uid = localStorage.uid;\n    //     store.state.name = localStorage.name;\n    //     store.state.gid = localStorage.gid;\n    //     store.state.isLogin = true;\n    //     Message.success(\"自动登录成功。\");\n    //     return true;\n    // }\n}"]}]}