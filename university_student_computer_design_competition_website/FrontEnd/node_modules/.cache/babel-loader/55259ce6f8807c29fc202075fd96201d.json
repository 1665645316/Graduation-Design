{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js","mtime":1646138241630},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/babel.config.js","mtime":1642426402000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyBwb3N0UmVxdWVzdCB9IGZyb20gIkAvdXRpbHMvYXBpIjsgLy8g5Yik5pat5piv5ZCm5L+d5a2Y5LqG6LSm5Y+35L+h5oGv77yM55So5LqO6Ieq5Yqo55m75b2VCgpleHBvcnQgZnVuY3Rpb24gbG9naW4oKSB7CiAgY29uc29sZS5sb2coIuiHquWKqOeZu+W9lSIpOwogIGNvbnNvbGUubG9nKHJvdXRlci5wdXNoKTsgLy8gbG9jYWxTdG9yYWdl5a2Y5YWl6LSm5Y+35a+G56CBCgogIGlmIChsb2NhbFN0b3JhZ2UucGhvbmUgJiYgbG9jYWxTdG9yYWdlLnBhc3N3b3JkIHx8IGxvY2FsU3RvcmFnZS5lbWFpbCkgewogICAgdmFyIGxvZ2luRm9ybSA9IHsKICAgICAgcGhvbmU6IGxvY2FsU3RvcmFnZS5waG9uZSwKICAgICAgZW1haWw6IGxvY2FsU3RvcmFnZS5lbWFpbCwKICAgICAgcGFzc3dvcmQ6IGxvY2FsU3RvcmFnZS5wYXNzd29yZAogICAgfTsKICAgIHBvc3RSZXF1ZXN0KCIvYXV0b21hdGljTG9naW4iLCBsb2dpbkZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHN0b3JlLnN0YXRlLnVpZCA9IGRhdGEudXNlcklkOwogICAgICAgIHN0b3JlLnN0YXRlLm5hbWUgPSBkYXRhLm5hbWU7CiAgICAgICAgc3RvcmUuc3RhdGUuZ2lkID0gZGF0YS5ncm91cElkOwogICAgICAgIHN0b3JlLnN0YXRlLmlzTG9naW4gPSB0cnVlOwogICAgICB9CiAgICB9KTsKICB9IGVsc2UgewogICAgX01lc3NhZ2Uud2FybmluZygi6K+355m75b2V77yB77yB77yBIik7CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgY29uc29sZS5sb2coIuiHquWKqOeZu+W9leWujOaIkCIpOwp9"},{"version":3,"sources":["/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/utils/login.js"],"names":["store","router","postRequest","login","console","log","push","localStorage","phone","password","email","loginForm","then","res","data","state","uid","userId","name","gid","groupId","isLogin","warning"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,SAAQC,WAAR,QAA0B,aAA1B,C,CAEA;;AACA,OAAO,SAASC,KAAT,GAAiB;AACpBC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,IAAnB,EAFoB,CAGpB;;AACA,MAAIC,YAAY,CAACC,KAAb,IAAsBD,YAAY,CAACE,QAAnC,IAA+CF,YAAY,CAACG,KAAhE,EAAuE;AACnE,QAAIC,SAAS,GAAG;AACZH,MAAAA,KAAK,EAAED,YAAY,CAACC,KADR;AAEZE,MAAAA,KAAK,EAAEH,YAAY,CAACG,KAFR;AAGZD,MAAAA,QAAQ,EAAEF,YAAY,CAACE;AAHX,KAAhB;AAKAP,IAAAA,WAAW,CAAC,iBAAD,EAAoBS,SAApB,CAAX,CAA0CC,IAA1C,CAA+C,UAACC,GAAD,EAAS;AACpD,UAAIC,IAAI,GAAGD,GAAG,CAACC,IAAJ,CAASA,IAApB;;AACA,UAAIA,IAAJ,EAAS;AACLd,QAAAA,KAAK,CAACe,KAAN,CAAYC,GAAZ,GAAkBF,IAAI,CAACG,MAAvB;AACAjB,QAAAA,KAAK,CAACe,KAAN,CAAYG,IAAZ,GAAmBJ,IAAI,CAACI,IAAxB;AACAlB,QAAAA,KAAK,CAACe,KAAN,CAAYI,GAAZ,GAAkBL,IAAI,CAACM,OAAvB;AACApB,QAAAA,KAAK,CAACe,KAAN,CAAYM,OAAZ,GAAsB,IAAtB;AACH;AACJ,KARD;AASH,GAfD,MAeO;AACH,aAAQC,OAAR,CAAgB,QAAhB;;AACA,WAAO,KAAP;AACH;;AACDlB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACH","sourcesContent":["import store from \"@/store\";\nimport router from \"@/router\";\nimport {Message} from \"element-ui\";\nimport {postRequest} from \"@/utils/api\";\n\n// 判断是否保存了账号信息，用于自动登录\nexport function login() {\n    console.log(\"自动登录\");\n    console.log(router.push);\n    // localStorage存入账号密码\n    if (localStorage.phone && localStorage.password || localStorage.email) {\n        let loginForm = {\n            phone: localStorage.phone,\n            email: localStorage.email,\n            password: localStorage.password\n        }\n        postRequest(\"/automaticLogin\", loginForm).then((res) => {\n            let data = res.data.data;\n            if (data){\n                store.state.uid = data.userId;\n                store.state.name = data.name;\n                store.state.gid = data.groupId;\n                store.state.isLogin = true;\n            }\n        })\n    } else {\n        Message.warning(\"请登录！！！\");\n        return false;\n    }\n    console.log(\"自动登录完成\");\n}"]}]}