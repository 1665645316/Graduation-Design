{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Login/index.vue","mtime":1645631689630},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/babel.config.js","mtime":1642426402000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHBvc3RSZXF1ZXN0IH0gZnJvbSAiQC91dGlscy9hcGkiOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gIkAvdXRpbHMvbG9naW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hlY2tlZDogdHJ1ZSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgZGF0ZXRpbWU6ICIiLAogICAgICAgIGNhcHRjaGE6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY2FwdGNoYTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIumqjOivgeeggeS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLnN0YXRlLmdpZCA9IDM7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS5naWQpOyAvLyDpobXpnaLlkK/liqjnu5lkYXRldGltZei1i+WAvOaXtumXtOaIswoKICAgIHRoaXMubG9naW5Gb3JtLmRhdGV0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIOWIpOaWreaYr+WQpuWtmOWcqOeZu+W9leS/oeaBrwogICAgLy8gbG9naW4odGhpcy4kcm91dGUucGF0aCk7CiAgfSwKICBjb21wdXRlZDogewogICAgY2FwdGNoYTogZnVuY3Rpb24gY2FwdGNoYSgpIHsKICAgICAgcmV0dXJuICcvYXBpL2NhcHRjaGE/ZGF0ZVRpbWU9JyArIHRoaXMubG9naW5Gb3JtLmRhdGV0aW1lOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g54K55Ye75pu05o2i6aqM6K+B56CB77yI5bCG5p2l5pu05o2i6aqM6K+B5pa55byP77yJCiAgICB1cGRhdGVDYXB0Y2hhOiBmdW5jdGlvbiB1cGRhdGVDYXB0Y2hhKCkgewogICAgICB0aGlzLmxvZ2luRm9ybS5kYXRldGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIOagueaNrnRhYnPmoIfnrb7pobXov5Tlm57nm7jlupTnmoTpqozor4Hop4TliJkKICAgICAqIEBwYXJhbSBhY3RpdmVOYW1lIOWIh+aNouagh+etvuWQjueahOaWsOWAvAogICAgICovCiAgICBsZWF2ZVRhYjogZnVuY3Rpb24gbGVhdmVUYWIoYWN0aXZlTmFtZSkgewogICAgICAvLyBhbGVydChhY3RpdmVOYW1lKQogICAgICBzd2l0Y2ggKGFjdGl2ZU5hbWUpIHsKICAgICAgICBjYXNlICcwJzoKICAgICAgICAgIGRlbGV0ZSB0aGlzLnJ1bGVzLmVtYWlsOwogICAgICAgICAgdGhpcy5ydWxlcy5waG9uZSA9IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5omL5py65Y+35LiN6IO95Li656m6IiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9XTsKICAgICAgICAgIHRoaXMubG9naW5Gb3JtLnBob25lID0gIiI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICBkZWxldGUgdGhpcy5ydWxlcy5waG9uZTsKICAgICAgICAgIHRoaXMucnVsZXMuZW1haWwgPSBbewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIumCrueuseS4jeiDveS4uuepuiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfV07CiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5lbWFpbCA9ICIiOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHRoaXMubG9naW5Gb3JtLnBhc3N3b3JkID0gIiI7CiAgICB9LAogICAgLy/nmbvlvZXngrnlh7vkuovku7YKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcG9zdFJlcXVlc3QoIi9sb2dpbiIsIF90aGlzLmxvZ2luRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgICAgICBpZiAoX3RoaXMuY2hlY2tlZCkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1aWQiLCBkYXRhLnVzZXJJZCk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm5hbWUiLCBkYXRhLm5hbWUpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJnaWQiLCBkYXRhLmdyb3VwSWQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUudWlkID0gZGF0YS51c2VySWQ7CiAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5uYW1lID0gZGF0YS5uYW1lOwogICAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuZ2lkID0gZGF0YS5ncm91cElkOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuc3RhdGUudWlkKTsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuJHN0b3JlLnN0YXRlLm5hbWUpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuc3RhdGUuZ2lkKTsKCiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeWujOaVtO+8gSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ot7Povazms6jlhozpobXpnaIKICAgIGdvVG9SZWdpc3RlclBhZ2U6IGZ1bmN0aW9uIGdvVG9SZWdpc3RlclBhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcmVnaXN0ZXIiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-form :rules=\"rules\" ref=\"loginForm\" :model=\"loginForm\" class=\"loginContainer\">\n      <h3 style=\"text-align: center\">登录</h3>\n      <el-tabs tab-position=\"top\" style=\"height: 100px\" stretch :before-leave=\"leaveTab\">\n        <el-tab-pane label=\"手机号登录\">\n          <el-form-item prop=\"phone\">\n            <el-input tpye=\"text\" v-model=\"loginForm.phone\" placeholder=\"请输入手机号\"></el-input>\n          </el-form-item>\n        </el-tab-pane>\n        <el-tab-pane label=\"邮箱登录\">\n          <el-form-item prop=\"email\">\n            <el-input tpye=\"text\" v-model=\"loginForm.email\" placeholder=\"请输入邮箱\"></el-input>\n          </el-form-item>\n        </el-tab-pane>\n      </el-tabs>\n      <el-form-item prop=\"password\">\n        <el-input tpye=\"text\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"captcha\">\n        <el-input tpye=\"text\" v-model=\"loginForm.captcha\" placeholder=\"点击图片更换验证码\" style=\"width: 60%\"></el-input>\n        <img :src=\"captcha\" @click=\"updateCaptcha\" alt=\"验证码\"\n             style=\"float: right; cursor: pointer\"/>\n      </el-form-item>\n      <el-form-item style=\"margin-bottom: 0\">\n        <el-link :underline=\"false\" class=\"rememberMe\">\n          <el-checkbox v-model=\"checked\">保持登录</el-checkbox>\n        </el-link>\n        <el-link href=\"https://zhangguapi.com\" target=\"_blank\" :underline=\"false\" class=\"forgot\">忘记密码？</el-link>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" style=\"width: 48%\" @click=\"login\" round>登录</el-button>\n        <el-button type=\"success\" style=\"width: 48%; float: right\" @click=\"goToRegisterPage\" round>注册</el-button>\n      </el-form-item>\n    </el-form>\n    <div class=\"img\">\n      <img src=\"https://i.loli.net/2019/04/23/5cbf0a3fe48e9.png\" alt=\"\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {postRequest} from \"@/utils/api\";\nimport {login} from \"@/utils/login\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      checked: true,\n      loginForm: {\n        phone: \"\",\n        email: \"\",\n        password: \"\",\n        datetime: \"\",\n        captcha: \"\",\n      },\n      rules: {\n        password: [{required: true, message: \"密码不能为空\", trigger: \"blur\"},],\n        captcha: [{required: true, message: \"验证码不能为空\", trigger: \"blur\"},],\n      },\n    };\n  },\n  mounted() {\n    this.$store.state.gid = 3;\n    console.log(this.$store.state.gid);\n    // 页面启动给datetime赋值时间戳\n    this.loginForm.datetime = new Date().getTime();\n    // 判断是否存在登录信息\n    // login(this.$route.path);\n  },\n  computed: {\n    captcha() {\n      return '/api/captcha?dateTime=' + this.loginForm.datetime;\n    }\n  },\n  methods: {\n    // 点击更换验证码（将来更换验证方式）\n    updateCaptcha() {\n      this.loginForm.datetime = new Date().getTime();\n    },\n    /**\n     * 根据tabs标签页返回相应的验证规则\n     * @param activeName 切换标签后的新值\n     */\n    leaveTab(activeName) {\n      // alert(activeName)\n      switch (activeName) {\n        case '0':\n          delete this.rules.email;\n          this.rules.phone = [{required: true, message: \"手机号不能为空\", trigger: \"blur\"},];\n          this.loginForm.phone = \"\";\n          break;\n        case '1':\n          delete this.rules.phone;\n          this.rules.email = [{required: true, message: \"邮箱不能为空\", trigger: \"blur\"},];\n          this.loginForm.email = \"\";\n          break;\n      }\n      this.loginForm.password = \"\";\n\n\n    },\n    //登录点击事件\n    login() {\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          postRequest(\"/login\", this.loginForm).then((res) => {\n            const data = res.data.data;\n            console.log(data);\n            if (this.checked) {\n              localStorage.setItem(\"uid\", data.userId);\n              localStorage.setItem(\"name\", data.name);\n              localStorage.setItem(\"gid\", data.groupId);\n            }\n            this.$store.state.uid = data.userId;\n            this.$store.state.name = data.name;\n            this.$store.state.gid = data.groupId;\n            console.log(this.$store.state.uid);\n            console.log(this.$store.state.name);\n            console.log(this.$store.state.gid);\n            this.$router.push(\"/home\");\n          }).catch((error) => {\n            console.log(error)\n          });\n        } else {\n          this.$message.error(\"请输入完整！\");\n        }\n      });\n    },\n    //跳转注册页面\n    goToRegisterPage() {\n      this.$router.push(\"/register\");\n    }\n  },\n};\n</script>\n<style>\n.loginContainer {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 180px auto;\n  width: 350px;\n  padding: 15px 35px;\n  background: #fff;\n  border: 1px solid #eeeeee;\n  box-shadow: 0 0 25px #cac6c6;\n}\n\n.rememberMe {\n  margin: 0 0 10px 0;\n}\n\n.forgot {\n  float: right;\n  margin: 0 0 10px 0;\n}\n\n.el-tabs {\n  margin-bottom: 22px;\n}\n\n.img {\n  margin-top: -150px;\n  text-align: center;\n}\n</style>"],"sourceRoot":"src/views/Login"}]}