{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Admin/Main/Groups/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/Admin/Main/Groups/index.vue","mtime":1646818096550},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/css-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/postcss-loader/src/index.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/less-loader/dist/cjs.js","mtime":1642232388000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJveCB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoKLmJveC1pbnB1dCB7CiAgd2lkdGg6IDIwMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLm1yMjAgewogIG1hcmdpbi1yaWdodDogMjBweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Admin/Main/Groups","sourcesContent":["<template>\n  <div>\n    <div class=\"box\">\n      <el-button type=\"danger\" icon=\"fa fa-trash-can\" class=\"mr20\" size=\"mini\"\n                 :disabled=\"deleteButton\" @click=\"deleteGroups\">批量删除\n      </el-button><el-button type=\"danger\" icon=\"el-icon-delete-solid\" class=\"mr20\" size=\"mini\"\n                 :disabled=\"deleteButton\" @click=\"deleteGroups\">批量删除\n      </el-button>\n      <el-button type=\"primary\" icon=\"fa fa-plus\" size=\"mini\" class=\"mr20\" @click=\"dialogFormVisible = true\">添加\n      </el-button>\n      <el-input v-model=\"input\" placeholder=\"请输入搜索值\" class=\"box-input mr20\" size=\"mini\" clearable></el-input>\n      <el-button type=\"primary\" icon=\"fa fa-magnifying-glass\" size=\"mini\" :disabled=\"searchButton\" @click=\"searchGroups\">搜索\n      </el-button>\n    </div>\n    <el-table :data=\"tableData\" border fit @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\"></el-table-column>\n      <el-table-column prop=\"groupId\" label=\"ID\" width=\"100%\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"groupName\" label=\"组名称\" width=\"100%\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"encoding\" label=\"组编码\" align=\"center\"></el-table-column>\n      <el-table-column label=\"操作\">\n        <template v-slot=\"scope\">\n          {{ scope.key }}\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\" width=\"20%\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"组名称\" >\n          <el-input v-model=\"form.groupName\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"组编码\">\n          <el-input v-model=\"form.encoding\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"dialogFormVisible = false\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {getRequest, postRequest} from \"@/utils/api\";\n\nexport default {\n  name: \"Groups\",\n  data() {\n    return {\n      input: '',\n      dialogFormVisible:false,\n      multipleSelection: [],\n      tableData: [],\n      form:{}\n    }\n  },\n  computed: {\n    deleteButton() {\n      return !this.multipleSelection.length;\n    },\n    searchButton() {\n      return !this.input;\n    }\n  },\n  watch: {\n    input(newValue) {\n      if (newValue.trim() === \"\") {\n        this.getGroups();\n      }\n    }\n  }\n  ,\n  methods: {\n    getGroups() {\n      getRequest(\"/getGroupsList\").then(res => {\n        this.tableData = res.data.data;\n      })\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    }\n    ,\n    deleteGroups() {\n      console.log(this.multipleSelection)\n      postRequest(\"/deleteGroups\", this.multipleSelection).then(res => {\n        res.data.data ? this.$message.success(\"删除成功。\") : this.$message.error(\"删除失败，因为组下有用户。\");\n      })\n    }\n    ,\n    searchGroups() {\n      console.log(this.input.trim())\n      getRequest(\"/searchGroups\", {query: this.input.trim()}).then(res => {\n        this.tableData = res.data.data;\n      })\n    }\n  }\n  ,\n  mounted() {\n    this.getGroups();\n  }\n}\n</script>\n\n<style lang=\"less\" >\n.box {\n  margin-bottom: 20px;\n}\n\n.box-input {\n  width: 200px;\n  display: inline-block;\n}\n\n.mr20 {\n  margin-right: 20px;\n}\n</style>"]}]}