{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/register.vue?vue&type=style&index=0&id=77453986&scoped=true&lang=css&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/register.vue","mtime":1642424819850},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/css-loader/dist/cjs.js","mtime":1642048409600},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1642048409940},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/postcss-loader/src/index.js","mtime":1642048409590},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048408770},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048409780}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJlZ2lzdGVyQ29udGFpbmVyIHsKICBib3JkZXItcmFkaXVzOiAxNXB4OwogIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CiAgbWFyZ2luOiAyMDBweCBhdXRvOwogIHdpZHRoOiAzNTBweDsKICBwYWRkaW5nOiAxNXB4IDM1cHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjZWVlZWVlOwogIGJveC1zaGFkb3c6IDAgMCAyNXB4ICNjYWM2YzY7Cn0KCi5idG4gewogIG1hcmdpbi10b3A6IDEwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoucmFkaW9MIHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAxNjVweDsKfQoKLnJhZGlvUiB7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgbWFyZ2luLXJpZ2h0OiAwOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aWR0aDogMTY1cHg7Cn0KCg=="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- 注册表单 -->\n    <el-form :rules=\"rules\" ref=\"registerForm\" :model=\"registerForm\" class=\"registerContainer\">\n      <!-- logo-->\n      <img src=\"../assets/image.png\" alt=\"\"/>\n      <el-tabs v-model=\"activeName\" stretch @tab-click=\"handleClick\">\n        <!-- 第一步-->\n        <el-tab-pane label=\"注册账号\" name=\"1\">\n          <!-- 输入用户手机号 -->\n          <el-form-item prop=\"phone\">\n            <el-input prefix-icon=\"fa fa-phone\" v-model=\"registerForm.phone\"></el-input>\n          </el-form-item>\n          <!-- 输入用户邮箱 -->\n          <el-form-item prop=\"email\">\n            <el-input prefix-icon=\"fa fa-envelope-o\" v-model=\"registerForm.email\"></el-input>\n          </el-form-item>\n          <!-- 输入用户密码 -->\n          <el-form-item prop=\"password\">\n            <el-input prefix-icon=\"fa fa-lock\" v-model=\"registerForm.password\" show-password></el-input>\n          </el-form-item>\n        </el-tab-pane>\n\n        <!-- 第二步-->\n        <el-tab-pane label=\"输入信息\" name=\"2\">\n          <!-- 姓名 -->\n          <el-form-item prop=\"name\">\n            <el-input prefix-icon=\"fa fa-user-o\" v-model=\"registerForm.name\"></el-input>\n          </el-form-item>\n          <!-- 性别 -->\n          <el-form-item prop=\"sex\">\n            <el-radio class=\"radioL\" v-model=\"registerForm.sex\" label=\"1\" border>男</el-radio>\n            <el-radio class=\"radioR\" v-model=\"registerForm.sex\" label=\"0\" border>女</el-radio>\n          </el-form-item>\n          <!-- 出生年月日 -->\n          <el-form-item prop=\"birthday\">\n            <el-date-picker v-model=\"registerForm.birthday\" type=\"date\" placeholder=\"选择日期\" format=\"yyyy 年 MM 月 dd 日\"\n                            value-format=\"yyyy-MM-dd\" style=\"width: 100%\"></el-date-picker>\n          </el-form-item>\n          <!-- 学校 -->\n          <el-form-item prop=\"school\">\n            <el-input prefix-icon=\"fa fa-university\" v-model=\"registerForm.school\"></el-input>\n          </el-form-item>\n          <!-- 地址 -->\n          <el-form-item prop=\"address\">\n            <el-input prefix-icon=\"fa fa-map-marker\" v-model=\"registerForm.address\"></el-input>\n          </el-form-item>\n        </el-tab-pane>\n        <!-- 第三步-->\n        <el-tab-pane label=\"选择身份\" name=\"3\" style=\"text-align: center;\" disabled>\n          <!-- 选择用户身份 -->\n          <el-form-item>\n            <el-select v-model=\"registerForm.group\" placeholder=\"请选身份\" style=\"width: 100%\">\n              <el-option v-for=\"item in groups\" :label=\"item.groupName\" :value=\"item.value\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-button @click=\"submitForm\" class=\"submit\" style=\"margin-bottom: 50px\">提&nbsp;&nbsp;&nbsp;&nbsp;交\n          </el-button>\n        </el-tab-pane>\n      </el-tabs>\n      <el-steps :active=\"active\" align-center>\n        <el-step title=\"步骤 1\"></el-step>\n        <el-step title=\"步骤 2\"></el-step>\n        <el-step title=\"步骤 3\"></el-step>\n      </el-steps>\n      <div class=\"btn\">\n        <el-button v-if=\"active!==2\" @click=\"next\" class=\"lastBtn\">下一步</el-button>\n      </div>\n      <el-row>\n        <el-link type=\"primary\" @click=\"goToLoginPage\" style=\"float:right;padding: 10px 0 5px 0;\">已有账号，点击登录</el-link>\n      </el-row>\n    </el-form>\n  </div>\n\n  <!--  <div>-->\n\n\n  <!--  </div>-->\n</template>\n\n<script>\nimport {postRequest} from \"@/utils/api\";\n\nexport default {\n  name: \"register\",\n  data() {\n    return {\n      activeName: '3',//控制tabs\n      active: 0,//控制步骤\n      disabled: true,//设置按提交按钮的禁用或启用\n      registerForm: {//提交的表单信息\n        group: '',\n        phone: '',\n        email: '',\n        password: '',\n        name: '',\n        sex: '',\n        birthday: '',\n        school: '',\n        address: ''\n      },\n      rules: {\n        phone: [{required: true, message: \"电话不能为空\", trigger: \"blur\"},],\n        email: [{required: true, message: \"邮箱不能为空\", trigger: \"blur\"},],\n        password: [{required: true, message: \"密码不能为空\", trigger: \"blur\"},],\n      },\n      value: '',//默认选择学生\n      groups: [//多选框选项\n        {groupName: \"学生\", value: 0},\n        {groupName: \"老师\", value: 1}\n      ]\n    };\n  },\n  watch: {\n    // 点击步骤按钮，标签页步骤跟着联动\n    active() {\n      this.activeName = this.active + 1 + \"\";\n      //控制提交按钮的禁用\n      switch (this.active) {\n        case 0:\n          this.rules = {\n            group: [{required: true, message: \"身份不能为空\", trigger: \"blur\"},],\n            phone: [{required: true, message: \"电话不能为空\", trigger: \"blur\"},],\n            email: [{required: true, message: \"邮箱不能为空\", trigger: \"blur\"},],\n            password: [{required: true, message: \"密码不能为空\", trigger: \"blur\"},],\n          };\n\n          break;\n        case 1:\n          this.rules.name = [{required: true, message: \"姓名不能为空\", trigger: \"blur\"},];\n          this.rules.sex = [{required: true, message: \"性别不能为空\", trigger: \"blur\"},];\n          this.rules.birthday = [{required: true, message: \"生日不能为空\", trigger: \"blur\"},];\n          this.rules.school = [{required: true, message: \"学校不能为空\", trigger: \"blur\"},];\n          this.rules.address = [{required: true, message: \"地址不能为空\", trigger: \"blur\"},];\n          break;\n        default:\n          break;\n      }\n    },\n    'registerForm.group':{\n      handler(){\n        if (this.registerForm.group){\n          this.$prompt('请输入邮箱', '请输入组编码', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n            inputErrorMessage: '邮箱格式不正确'\n          }).then(({ value }) => {\n            this.$message({\n              type: 'success',\n              message: '你的邮箱是: ' + value\n            });\n          }).catch(() => {\n            this.$message({\n              type: 'info',\n              message: '取消输入'\n            });\n          });\n        }\n\n      }\n    }\n  },\n  methods: {\n    handleClick() { // 点击标签页，步骤跟着联动\n      this.active = Number(this.activeName) - 1;\n    },\n    next() { // 下一步\n      this.$refs.registerForm.validate((valid) => {\n        if (valid) {\n          this.$message.success(\"校验成功。\");\n          if (++this.active > 2) this.active = 2;\n        } else {\n          this.$message.error(\"请输入完整再进行下一步吧！\");\n        }\n      });\n    },\n    submitForm() {\n\n      // this.$refs[formName].validate(async (valid) => {\n      //   if (!valid) return console.log(\"error valid\");\n      //   this.$http\n      //       .post(\"/users/register\", this.form)\n      //       .then((result) => {\n      //         console.log(result);\n      //         if (result.data.code !== 200)\n      //           return this.$message.error(\"注册失败\");\n      //         this.$message.success(\"注册成功\");\n      //         // window.sessionStorage.setItem('token', result.data.token)\n      //         this.$router.push(\"/users/login\");\n      //       })\n      //       .catch((error) => {\n      //         // 【务必注意】这里的error输出的不是一个对象【error.response才是一个对象】\n      //         console.log(error);\n      //         if (error.response) {\n      //           // 请求已发出，但服务器响应的状态码不在 2xx 范围内\n      //           console.log(error.response.data);\n      //           console.log(error.response.status);\n      //           console.log(error.response.headers);\n      //         } else {\n      //           // Something happened in setting up the request that triggered an Error\n      //           console.log(\"Error\", error.message);\n      //         }\n      //         console.log(error.config);\n      //       });\n      // });\n    },\n    goToLoginPage() {\n      this.$router.push(\"/login\");\n    },\n  },\n};\n\n</script>\n\n<style scoped>\n.registerContainer {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 200px auto;\n  width: 350px;\n  padding: 15px 35px;\n  background: #fff;\n  border: 1px solid #eeeeee;\n  box-shadow: 0 0 25px #cac6c6;\n}\n\n.btn {\n  margin-top: 10px;\n  text-align: center;\n}\n\n.radioL {\n  margin-right: 10px;\n  text-align: center;\n  width: 165px;\n}\n\n.radioR {\n  margin-left: 10px;\n  margin-right: 0;\n  text-align: center;\n  width: 165px;\n}\n\n</style>"]}]}