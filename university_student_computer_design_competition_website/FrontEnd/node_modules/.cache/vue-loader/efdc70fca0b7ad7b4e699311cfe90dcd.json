{"remainingRequest":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/layout/Main/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/src/views/layout/Main/Search.vue","mtime":1646564054450},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/babel-loader/lib/index.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/cache-loader/dist/cjs.js","mtime":1642048410000},{"path":"/Volumes/Code/Graduation_Design/university_student_computer_design_competition_website/FrontEnd/node_modules/vue-loader/lib/index.js","mtime":1642048410000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0UmVxdWVzdH0gZnJvbSAiQC91dGlscy9hcGkiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWFyY2giLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6ICcnLAogICAgICBkYXRhOltdCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZScodG8pIHsKICAgICAgdGhpcy5zZWFyY2ggPSB0by5wYXJhbXMuc2VhcmNoOwogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgdGhpcy5sb2FkaW5nKHRoaXMuc2VhcmNoKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNlYXJjaCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5zZWFyY2g7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkaW5nKHF1ZXJ5KSB7CiAgICAgIGdldFJlcXVlc3QoIi9zZWFyY2g/cXVlcnk9IitxdWVyeSkudGhlbigocmVzKT0+ewogICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pCiAgICB9LAogICAgY2xpY2tUYWJsZShyb3cpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2ZpbmQtZGV0YWlsJywgcGFyYW1zOiB7Y29udGVzdElkOiByb3cuY29udGVzdElkfX0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views/layout/Main","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-col :span=\"12\" :offset=\"6\">\n        <el-card shadow=\"never\" class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span style=\"line-height: 28px;font-size: 20px\">搜索结果</span>\n          </div>\n          <el-table :data=\"data\" :current-row-key=\"data.contestId\" fit @row-click=\"clickTable\">\n            <el-table-column prop=\"contestTitle\" label=\"标题\" resizable align=\"center\"></el-table-column>\n            <el-table-column prop=\"regEndTime\" label=\"报名结束时间\" resizable align=\"center\">\n              <template v-slot=\"scope\">\n                <el-tag :type=\"new Date(scope.row.regEndTime)<new Date() ? 'danger' : 'success'\" disable-transitions>\n                  {{ scope.row.regEndTime }}\n                </el-tag>\n              </template>\n            </el-table-column>\n          </el-table>\n           <!--分页-->\n          <!--<el-pagination layout=\"prev, pager, next\" :total=\"total\" style=\"text-align: center\" @current-change=\"page\"></el-pagination>-->\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {getRequest} from \"@/utils/api\";\n\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      search: '',\n      data:[]\n    }\n  },\n  watch: {\n    '$route'(to) {\n      this.search = to.params.search;\n    },\n    search() {\n      this.loading(this.search);\n    }\n  },\n  mounted() {\n    this.search = this.$route.params.search;\n  },\n  methods: {\n    loading(query) {\n      getRequest(\"/search?query=\"+query).then((res)=>{\n        this.data = res.data.data;\n      })\n    },\n    clickTable(row){\n      this.$router.push({name: 'find-detail', params: {contestId: row.contestId}})\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n</style>"]}]}